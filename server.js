const express = require( 'express');
const path = require('path');
const http = require('http');
let app = express() ;
let port = process.env.PORT || 8123;   
app.use(express.static( path.join(__dirname,'/public')));
const TEST_TEMPERATURES = {
  timestamp : Date.now(),
  values: [ 14.9,14.4,13.9,13.4,13.1,12.7,12.5,12.3,12.1,13.8,16.4,
        19.4,22.1,24.2,25.6,26.2,25.8,24.1,22.2,21.2,19.6,18.2,
        17.2,16.3,15.5,14.9,14.4,13.9,13.5,13.1,12.7,12.5,12.3,
        12.1,13.8,16.6,19.6,22.4,24.5,26.5,26.1,24.4,21.5,19.8,
        18.5,17.4,16.5,15.8,15.1,14.6,14.1,13.7,13.3,12.9,12.7,
        12.5,12.3,14,16.7,19.7,22.5,24.5,25.9,26.5,26,24.3,21.5,
        19.8,18.5,17.4,16.5,15.7,15,14.5,14,13.6,13.1,12.8,12.5,
        12.4,12.2,13.8,16.6,19.6,22.3,24.3,25.6,26.2,25.7,24.1,
        21.3,19.5,18.3,17.2,16.4,15.6,14.8,14.2,13.7,13.2,12.8,
        12.4,12.2,12,11.8,13.5,16.3,19.3,22.1,24.1,25.5,26,25.6,
        23.9,21.1,19.4,18.2,17.1,16.3,15.5,14.8,14.2,13.7,13.2,
        12.8,12.5,12.2,12.1,11.8,13.5,16.3,19.3,22,24,25.3,25.9,
        25.5,23.8,21.1,19.4,18.1,17.1,16.2,15.4,14.7,14.1,13.6,
        13.2,12.8,12.5,12.2,12,11.8,13.4,16.2,19.2,21.9,24,25.3,
        25.9,25.4,23.8,21,19.3,18,17,16.1,15.3,14.6,14,13.4,13,
        12.6,12.2,12,11.7,11.5,13.1,15.9,19,21.6,23.7,25.1,25.7,
        25.2,23.6,20.8,19,17.7,16.7,15.7,14.9,14.3,13.6,13.1,12.6,
        12.2,11.9,11.6,11.3,11.1,12.8,15.6,18.6,21.3,23.4,24.8,25.4,
        25,23.3,20.5,18.7,17.5,16.4,15.4,14.6,14,13.3,12.8,12.3,
        11.8,11.5,11.3,11,10.8,12.5,15.4,18.4,21.1,23.1,24.6,25.2,
        24.8,23.2,20.3,18.6,17.3,16.2,15.2,14.4,13.8,13.1,12.6,12.2,
        11.7,11.3,11.1,10.9,10.7,12.3,15.2,18.2,20.9,23,24.4,25.1,
        24.7,23.2,20.3,18.5,17.2,16.1,15.1,14.3,13.7,13,12.6,12.2,
        11.7,11.3,11,10.8,10.6,12.2,15,17.9,20.6,22.6,24.1,24.8,
        24.4,22.9,20,18.2,16.9,15.8,14.9,14.1,13.4,12.8,12.3,11.9,
        11.4,11,10.8,10.6,10.4,12.1,14.8,17.7,20.3,22.4,23.8,24.4,
        24.1,22.6,19.7,17.9,16.7,15.5,14.6,13.8,13.1,12.5,12,11.6,
        11,10.8,10.5,10.3,10.1,11.7,14.5,17.4,20.1,22.1,23.5,24.1,
        23.8,22.3,19.4,17.6,16.4,15.2,14.2,13.5,12.8,12.2,11.7,11.2,
        10.7,10.4,10.2,9.9,9.7,11.4,14.2,17.1,19.8,21.9,23.4,24.1,
        23.7,22.2,19.4,17.5,16.3,15.1,14.1,13.3,12.7,12,11.5,11,
        10.5,10.2,10,9.7,9.5,11.2,14.1,17,19.8,21.9,23.5,24.2,23.8,
        22.4,19.6,17.6,16.4,15.2,14.2,13.4,12.7,12.1,11.6,11.1,10.5,
        10.3,10.1,9.8,9.6,11.4,14.2,17.1,19.9,22,23.5,24.1,23.8,
        22.4,19.5,17.6,16.4,15.2,14.2,13.4,12.7,12.1,11.6,11.1,10.5,
        10.2,10,9.7,9.5,11.4,14.1,17.1,19.9,22.1,23.6,24.2,23.9,
        22.5,19.6,17.7,16.4,15.2,14.2,13.4,12.7,12.1,11.5,11,10.4,
        10.1,9.9,9.6,9.4,11.3,14,17,19.8,22,23.6,24.2,23.9,22.5,
        19.7,17.7,16.4,15.1,14.1,13.3,12.6,12,11.4,10.9,10.4,10,9.7,
        9.4,9.3,11.1,13.9,16.8,19.6,21.8,23.4,24.1,23.8,22.5,19.6,
        17.5,16.2,14.9,13.9,13.1,12.4,11.7,11.1,10.6,10.1,9.7,9.4,
        9.2,9.1,11,13.8,16.8,19.7,21.9,23.5,24.2,23.9,22.6,19.7,17.6,
        16.2,14.9,13.9,13.1,12.4,11.7,11.2,10.7,10.1,9.8,9.5,9.2,
        9.1,11.1,14,17,19.9,22,23.7,24.3,24,22.8,19.9,17.8,16.4,
        15.1,14.1,13.3,12.5,11.9,11.4,10.9,10.4,10.1,9.8,9.5,9.4,
        11.4,14.2,17.3,20.2,22.2,23.9,24.5,24.2,22.9,20.1,18,16.7,
        15.4,14.4,13.6,12.8,12.2,11.6,11.2,10.6,10.3,10,9.8,9.7,
        11.6,14.4,17.5,20.3,22.4,24.1,24.7,24.5,23.2,20.4,18.3,
        16.9,15.6,14.6,13.8,13,12.4,11.8,11.4,10.9,10.5,10.2,10,
        9.8,11.8,14.6,17.7,20.6,22.7,24.4,25,24.8,23.5,20.7,18.6,
        17.2,15.8,14.8,14,13.1,12.5,11.9,11.5,11,10.7,10.3,10.1,10,
        12.1,14.9,18.1,21,23.1,24.8,25.4,25.1,23.8,21,18.9,17.4,16,
        14.9,14.1,13.2,12.5,11.9]
}
app.get( '/api/temperatures', function ( req, res ) { 
  res.send(TEST_TEMPERATURES);
});
http.createServer(app).listen( port, function() {
  console.log(`temperatures server is open for ebusiness at ${port}`);
});

